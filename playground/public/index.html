<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>restty Playground</title>
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <main>
      <canvas id="screen"></canvas>
      <textarea
        id="imeInput"
        autocapitalize="off"
        autocomplete="off"
        autocorrect="off"
        spellcheck="false"
        aria-hidden="true"
      ></textarea>
      <pre id="termDebug" aria-live="polite"></pre>
    </main>

    <aside class="panel">
      <header>
        <h1>restty</h1>
        <div class="status-bar">
          <span id="backend">-</span>
          <span id="fps">0</span>fps
          <span id="termSize">0x0</span>
        </div>
      </header>

      <section class="section">
        <div class="section-title">Terminal</div>
        <div class="btn-row">
          <button id="btnInit">Init</button>
          <button id="btnPause">Pause</button>
          <button id="btnClear">Clear</button>
        </div>
        <div class="field-row">
          <label>
            <span>Renderer</span>
            <select id="rendererSelect">
              <option value="auto">Auto</option>
              <option value="webgpu">WebGPU</option>
              <option value="webgl2">WebGL2</option>
            </select>
          </label>
          <label>
            <span>Font</span>
            <input id="fontSize" type="number" min="10" max="64" step="1" value="18" />
          </label>
        </div>
      </section>

      <section class="section">
        <div class="section-title">Connection</div>
        <div class="field-row">
          <input id="ptyUrl" type="text" value="ws://localhost:8787/pty" placeholder="PTY URL" />
          <button id="btnPty">Connect</button>
        </div>
        <div class="pty-status"><span id="ptyStatus">disconnected</span></div>
      </section>

      <section class="section">
        <div class="section-title">Appearance</div>
        <div class="field-row">
          <select id="themeSelect">
            <option value="">Default Theme</option>
          </select>
          <label class="file-input">
            <input id="themeFile" type="file" accept=".conf,.theme,.txt" />
            <span>Upload</span>
          </label>
        </div>
        <div class="field-row">
          <select id="mouseMode">
            <option value="auto">Mouse: Auto</option>
            <option value="on" selected>Mouse: On</option>
            <option value="off">Mouse: Off</option>
          </select>
        </div>
      </section>

      <section class="section">
        <div class="section-title">Demo</div>
        <div class="field-row">
          <select id="demoSelect">
            <option value="basic">Basics</option>
            <option value="palette">Palette</option>
            <option value="unicode">Unicode</option>
            <option value="anim">Animation</option>
          </select>
          <button id="btnRunDemo">Run</button>
        </div>
      </section>

      <details class="section collapsible">
        <summary>Debug Info</summary>
        <div class="debug-grid">
          <span>DPR</span><span id="dpr">1</span>
          <span>Size</span><span id="size">0x0</span>
          <span>Grid</span><span id="grid">0x0</span>
          <span>Cell</span><span id="cell">0x0</span>
          <span>Cursor</span><span id="cursorPos">0,0</span>
          <span>Input</span><span id="inputDebug">-</span>
          <span>Mouse</span><span id="mouseStatus">-</span>
          <span>Debug</span><span id="dbg">-</span>
        </div>
      </details>

      <details class="section collapsible">
        <summary>Atlas</summary>
        <div class="atlas-row">
          <input id="atlasCp" type="text" placeholder="U+F0001" />
          <button id="btnAtlas">Dump</button>
        </div>
        <div id="atlasInfo" class="atlas-info">-</div>
        <canvas id="atlasCanvas" width="64" height="64"></canvas>
      </details>

      <details class="section collapsible">
        <summary>Logs</summary>
        <div class="logs-header">
          <span id="log">idle</span>
          <div class="btn-row">
            <button id="btnCopyLog">Copy</button>
            <button id="btnClearLog">Clear</button>
          </div>
        </div>
        <textarea id="logDump" readonly></textarea>
      </details>
    </aside>

    <script type="module" src="../app.ts"></script>
  </body>
</html>
